<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Module lru</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module lru</h1>
<ul class="index"><li><a href="#types">Data Types</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>

<p><b>Behaviours:</b> <a href="gen_server.html"><tt>gen_server</tt></a>.</p>

<h2><a name="types">Data Types</a></h2>

<h3 class="typedecl"><a name="type-lru_option">lru_option()</a></h3>
<p><tt>lru_option() = {evict_fun, function()} | {spawn_opt, list()}</tt></p>


<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#add-3">add/3</a></td><td>adds a value to the cache.</td></tr>
<tr><td valign="top"><a href="#code_change-3">code_change/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#contains-2">contains/2</a></td><td>check if the key is in the cache.</td></tr>
<tr><td valign="top"><a href="#contains_or_add-3">contains_or_add/3</a></td><td> checks if a key is in the cache (without updating the recent-ness or
  deleting it for being stale), if not, adds the value.</td></tr>
<tr><td valign="top"><a href="#get-2">get/2</a></td><td>lookup a key's value from the cache.</td></tr>
<tr><td valign="top"><a href="#get-3">get/3</a></td><td>lookup a key's value from the cache.</td></tr>
<tr><td valign="top"><a href="#handle_call-3">handle_call/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_cast-2">handle_cast/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_info-2">handle_info/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#init-1">init/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#keys-1">keys/1</a></td><td>return all the keys from the cache.</td></tr>
<tr><td valign="top"><a href="#peek-2">peek/2</a></td><td>Returns the key value (or undefined if not found) without updating the
  "recently used"-ness of the key.</td></tr>
<tr><td valign="top"><a href="#peek-3">peek/3</a></td><td>Returns the key value (or undefined if not found) without updating the
  "recently used"-ness of the key.</td></tr>
<tr><td valign="top"><a href="#purge-1">purge/1</a></td><td>purge all items from the cache.</td></tr>
<tr><td valign="top"><a href="#remove-2">remove/2</a></td><td>remove a key from the cache.</td></tr>
<tr><td valign="top"><a href="#remove_oldest-1">remove_oldest/1</a></td><td>remove the oldest item from the cache.</td></tr>
<tr><td valign="top"><a href="#size-1">size/1</a></td><td>get the number of items in the cache.</td></tr>
<tr><td valign="top"><a href="#start-1">start/1</a></td><td>creates an LRU of the given size.</td></tr>
<tr><td valign="top"><a href="#start-2">start/2</a></td><td>creates an LRU of the given size
  Options are:
   - <code>{evict_fun, Fun}</code> a function that will received the evicted key value
   "fun(Key, Value)".</td></tr>
<tr><td valign="top"><a href="#start-3">start/3</a></td><td>creates an LRU of the given size with a registered name.</td></tr>
<tr><td valign="top"><a href="#start_link-1">start_link/1</a></td><td>creates an LRU of the given size as part of a supervision tree.</td></tr>
<tr><td valign="top"><a href="#start_link-2">start_link/2</a></td><td>creates an LRU of the given size as part of a supervision tree.</td></tr>
<tr><td valign="top"><a href="#start_link-3">start_link/3</a></td><td>creates an LRU of the given size as part of a supervision tree with a
  registered name.</td></tr>
<tr><td valign="top"><a href="#stop-1">stop/1</a></td><td>stop the LRU cache.</td></tr>
<tr><td valign="top"><a href="#terminate-2">terminate/2</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="add-3">add/3</a></h3>
<div class="spec">
<p><tt>add(Cache::pid(), Key::term(), Value::term()) -&gt; true | false</tt><br></p>
</div><p>adds a value to the cache.  Returns true if an eviction occured.</p>

<h3 class="function"><a name="code_change-3">code_change/3</a></h3>
<div class="spec">
<p><tt>code_change(OldVsn, Cache, Extra) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="contains-2">contains/2</a></h3>
<div class="spec">
<p><tt>contains(Cache::pid(), Key::term()) -&gt; true | false</tt><br></p>
</div><p>check if the key is in the cache</p>

<h3 class="function"><a name="contains_or_add-3">contains_or_add/3</a></h3>
<div class="spec">
<p><tt>contains_or_add(Cache::pid(), Key::term(), Value::term()) -&gt; {Exists::boolean(), Evict::boolean()}</tt><br></p>
</div><p> checks if a key is in the cache (without updating the recent-ness or
  deleting it for being stale), if not, adds the value. Returns whether found and whether an eviction
  occurred.</p>

<h3 class="function"><a name="get-2">get/2</a></h3>
<div class="spec">
<p><tt>get(Cache::pid(), Key::term()) -&gt; term() | undefined</tt><br></p>
</div><p>lookup a key's value from the cache. Return undefined if it's not
  found.</p>

<h3 class="function"><a name="get-3">get/3</a></h3>
<div class="spec">
<p><tt>get(Cache::pid(), Key::term(), Default::term()) -&gt; term()</tt><br></p>
</div><p>lookup a key's value from the cache. Return the Default value if it's
  not found.</p>

<h3 class="function"><a name="handle_call-3">handle_call/3</a></h3>
<div class="spec">
<p><tt>handle_call(X1, From, Cache) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_cast-2">handle_cast/2</a></h3>
<div class="spec">
<p><tt>handle_cast(Msg, Cache) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_info-2">handle_info/2</a></h3>
<div class="spec">
<p><tt>handle_info(Info, Cache) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="init-1">init/1</a></h3>
<div class="spec">
<p><tt>init(X1) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="keys-1">keys/1</a></h3>
<div class="spec">
<p><tt>keys(Cache::pid()) -&gt; [term()]</tt><br></p>
</div><p>return all the keys from the cache</p>

<h3 class="function"><a name="peek-2">peek/2</a></h3>
<div class="spec">
<p><tt>peek(Cache::pid(), Key::term()) -&gt; term() | undefined</tt><br></p>
</div><p>Returns the key value (or undefined if not found) without updating the
  "recently used"-ness of the key.</p>

<h3 class="function"><a name="peek-3">peek/3</a></h3>
<div class="spec">
<p><tt>peek(Cache::pid(), Key::term(), Default::term()) -&gt; term() | undefined</tt><br></p>
</div><p>Returns the key value (or undefined if not found) without updating the
  "recently used"-ness of the key.</p>

<h3 class="function"><a name="purge-1">purge/1</a></h3>
<div class="spec">
<p><tt>purge(Cache::pid()) -&gt; ok</tt><br></p>
</div><p>purge all items from the cache.</p>

<h3 class="function"><a name="remove-2">remove/2</a></h3>
<div class="spec">
<p><tt>remove(Cache::pid(), Key::term()) -&gt; ok</tt><br></p>
</div><p>remove a key from the cache</p>

<h3 class="function"><a name="remove_oldest-1">remove_oldest/1</a></h3>
<div class="spec">
<p><tt>remove_oldest(Cache::pid()) -&gt; ok</tt><br></p>
</div><p>remove the oldest item from the cache</p>

<h3 class="function"><a name="size-1">size/1</a></h3>
<div class="spec">
<p><tt>size(Cache::pid()) -&gt; non_neg_integer()</tt><br></p>
</div><p>get the number of items in the cache</p>

<h3 class="function"><a name="start-1">start/1</a></h3>
<div class="spec">
<p><tt>start(Size::non_neg_integer()) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>creates an LRU of the given size</p>

<h3 class="function"><a name="start-2">start/2</a></h3>
<div class="spec">
<p><tt>start(Size::non_neg_integer(), Opts::[<a href="#type-lru_option">lru_option()</a>]) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>creates an LRU of the given size
  Options are:
   - <code>{evict_fun, Fun}</code> a function that will received the evicted key value
   "fun(Key, Value)".
   - <code>{spawn_opts, Opts}</code> the spawn options. see <code>erlang:spawn_opt/2</code> for
   more informations.</p>

<h3 class="function"><a name="start-3">start/3</a></h3>
<div class="spec">
<p><tt>start(Name::{local, Name::atom()} | {global, GlobalName::term()} | {via, ViaName::term()}, Size::non_neg_integer(), Opts::[<a href="#type-lru_option">lru_option()</a>]) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>creates an LRU of the given size with a registered name</p>

<h3 class="function"><a name="start_link-1">start_link/1</a></h3>
<div class="spec">
<p><tt>start_link(Size::non_neg_integer()) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>creates an LRU of the given size as part of a supervision tree</p>

<h3 class="function"><a name="start_link-2">start_link/2</a></h3>
<div class="spec">
<p><tt>start_link(Size::non_neg_integer(), Opts::[<a href="#type-lru_option">lru_option()</a>]) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>creates an LRU of the given size as part of a supervision tree</p>

<h3 class="function"><a name="start_link-3">start_link/3</a></h3>
<div class="spec">
<p><tt>start_link(Name::{local, Name::atom()} | {global, GlobalName::term()} | {via, ViaName::term()}, Size::non_neg_integer(), Opts::[<a href="#type-lru_option">lru_option()</a>]) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>creates an LRU of the given size as part of a supervision tree with a
  registered name.</p>

<h3 class="function"><a name="stop-1">stop/1</a></h3>
<div class="spec">
<p><tt>stop(Cache::pid()) -&gt; ok</tt><br></p>
</div><p>stop the LRU cache</p>

<h3 class="function"><a name="terminate-2">terminate/2</a></h3>
<div class="spec">
<p><tt>terminate(Reason, Cache) -&gt; any()</tt></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Oct 2 2015, 14:26:00.</i></p>
</body>
</html>
